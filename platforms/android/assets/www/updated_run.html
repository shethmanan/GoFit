<html>

<head>
	<link type="text/css" rel="stylesheet" href="css/materialize.css" media="screen,projection" />
	<link rel="stylesheet" type="text/css" href="css/navbar.css" />
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
	<link rel="stylesheet" type="text/css" href="css/updated_walk.css" />
	<link rel="stylesheet" type="text/css" href="css/flaticon.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<style>
		.flaticon-cross-1:before {
			margin-left: 0px;
		}

		.flaticon-people-1:before {
			margin-left: 0px;
		}

		.flaticon-clock-4:before {
			margin-left: 5px;
			font-size: 25px;
		}

		.flaticon-sports-2:before {
			margin-left: 5px;
			font-size: 25px;
		}

		.flaticon-transport:before {
			margin-left: 4px;
		}
	</style>
</head>

<body>
	<header>
	</header>
	<!-- side nav -->
	<div class="side-section">
		<ul class="side-nav fixed blue lighten-3" style="left:0px">
			<li class="logo" style="background-color:transparent;">
				<a href="edit_profile.html"><img class="profile-pic circle" src="1.jpg"></a>
			</li>
			<li class="blue lighten-3"><a href="remider.html" class="waves-effect waves-lighten" style="color:#1976d2;">Set Reminders</a></li>
			<li class="blue lighten-3"><a href="updated_walk.html" class="waves-effect waves-lighten" style="color:#1976d2;">Exercise</a></li>
			<ul class="collapsible collapsible-accordion">
				<li class="blue lighten-3">
					<a class="collapsible-header" class="waves-effect waves-lighten" style="color:#1976d2;">Calculators</a>
					<div class="collapsible-body">
						<ul>
							<li class="blue lighten-3">
								<a href="BMICal.html" class="waves-effect waves-lighten" style="color:#1976d2;">BMI Calculator</a>
							</li>
							<li class="blue lighten-3">
								<a href="calorieCalculator.html" class="waves-effect waves-lighten" style="color:#1976d2;">Calorie Calculator</a>
							</li>
						</ul>
					</div>
				</li>
			</ul>

			<li class="blue lighten-3"><a href="feedback.html" class="waves-effect waves-lighten" style="color:#1976d2;">Feedback</a></li>
		</ul>
	</div>
	<main>
		<!-- side nav btn -->
		<div class="row blue darken-2 no-margin">
			<a class="waves-effect waves-lighten btn-flat large" id="nav-btn">
				<i class="large material-icons" style="color:white;font-size: xx-large;">list</i>
			</a>
		</div>
		<!-- side nav btn ends -->
		<!-- side nav -->
		<div class="row">
			<div class="col s12 no-padding">
				<div class="card blue no-padding darken-1 white-text step" style="margin-top:0;position:relative;">
					<div class="fixed-action-btn horizontal click-to-toggle div_fab">
						<a class="btn-floating btn-large orange darken-2">
							<i class="large flaticon-cross-1"></i>
						</a>
						<ul>
							<li><a class="btn-floating green f_btn1" href="updated_cycle.html"><i class="flaticon-transport"></i></a></li>
							<li><a class="btn-floating teal f_btn2"><i class="flaticon-sports-2"></i></a></li>
							<li><a class="btn-floating red f_btn3" href="updated_walk.html"><i class="flaticon-people-1"></i></a></li>
						</ul>
					</div>
					<div class="gap"></div>
					<div class="gap"></div>

					<center>
						<div class="preloader-wrapper big active">
							<div class="spinner-layer spinner-red-only">
								<div class="circle-clipper left">
									<div class="circle"></div>
								</div>
								<div class="gap-patch">
									<div class="circle"></div>
								</div>
								<div class="circle-clipper right">
									<div class="circle"></div>
								</div>
							</div>
						</div>
						<i style="activity_status;left: 172px;top: 70px;" class="flaticon-sports-2 activity_status" id="start"></i>
					</center>
				</div>
				<!--For the rounded image or animation which will show the steps-->
			</div>
		</div>
		<div class="gap"></div>
		<div class="row">
			<div class="col s3 offset-s2">
				<i class="flaticon-clock-4 small logo_color"></i>
				<div class="blue-text"> &nbsp&nbsp
					<div class="dynamic" id="time" data-val="0">00</div>mins</div>
			</div>
			<div class="col s2 offset-s2">
				<i class="flaticon-sports-2 logo_color"></i>
				<div class="blue-text">&nbsp&nbsp
					<div class="dynamic">350</div>steps</div>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col s12">
				<a class="btn waves-effect waves-light blue darken-4 full-width" id="start-btn">Start Running</a>
			</div>
		</div>
	</main>
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/materialize.js"></script>
	<script type="text/javascript" src="js/navbar-transition.js"></script>
	<script type="text/javascript" src="cordova.js"></script>
	<script type="text/javascript">
	var clock;
		$(document).ready(function(data) {
			$("#start-btn").click(function(data) {

				if (!$(this).hasClass("stop")) {
					clock = setInterval(timer,1000*60);
					$(this).html("Stop Running");
				} else{
					$(this).html("Start Running");
					clearInterval(clock);
				}
				$(this).toggleClass("stop");
			});
		});
		var timer = function(){
		var time = $("#time").attr("data-val");
		console.log(time++);
		$("#time").html(time);
		$("#time").attr("data-val",time);
	}
	</script>
<script type="text/javascript">
		var startingOffset = 0;
		var activity_status = true;
		var activity_id = 0;

		var success_now_active_run = function(message) {
			// alert(message);
			$("#now_active_run").html(message);
		}

		var success_now_active_walk = function(message) {
			// alert(message);
			message = parseInt(message);
			if (message % 2 == 1) {
				message = message - 1;
				message = message / 2;
			} else {
				message = message / 2;
			}
			$("#now_active_walk").html(message);
		}

		var success_today_active_run = function(message) {
			// alert(message);
			$("#today_active_run").html(message);
		}

		var success_today_active_walk = function(message) {
			// alert(message);
			message = parseInt(message);
			if (message % 2 == 1) {
				message = message - 1;
				message = message / 2;
			} else {
				message = message / 2;
			}
			$("#today_active_walk").html(message);
		}

		var success = function(message) {
			alert("success");
		}
		var failure = function() {
			alert("Error calling CordovaStepCounter Plugin");
		}

		function start_run_counter1() {

			activity_id = setInterval("start_run_counter()", 10000);
		}

		function start_walk_counter1() {

			activity_id = setInterval("start_walk_counter()", 10000);
		}

		function start_run_counter() {

			alert("run-called");
			// stepcounter.deviceCanCountSteps(success(), failure());
			stepcounter.start(startingOffset, success_now_active_run, failure);
			stepcounter.getStepCount(success_now_active_run, failure);
			// stepcounter.deviceCanCountSteps(success, failure);

			// use this if u want number of steps walked till now:    stepcounter.getTodayStepCount(success_today_active_run, failure);
			if (!activity_status) {
				alert("activity cleared");
				clearInterval(activity_id);
				activity_status = true;
			}
		}

		function start_walk_counter() {
			alert("walk-called");
			// abc(failure());
			// stepcounter.deviceCanCountSteps(success(), failure());
			stepcounter.start(startingOffset, success_now_active_walk, failure);
			stepcounter.getStepCount(success_now_active_walk, failure);
			// stepcounter.deviceCanCountSteps(success, failure);
			// alert("die");
			// returns total number of steps    stepcounter.getTodayStepCount(success_today_active_walk, failure);
			if (!activity_status) {
				alert("activity cleared");
				clearInterval(activity_id);
				activity_status = true;
			}
		}

		function stop_run_counter() {
			alert("stop called");
			activity_status = false;
			stepcounter.stop(success, failure);
			alert("stopped");
		}
</script>
</body>
<html>
