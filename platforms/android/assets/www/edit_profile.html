<!DOCTYPE html>
<html>

<head>

  <head>
    <link rel="stylesheet" href="css/materialize.css" media="screen,projection" />
    <title>CalorieCalculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/navbar.css">
    <link rel="stylesheet" href="css/input-field-style.css" media="screen" title="no title" charset="utf-8">
    <style>
      .input-form {
        position: absolute;
        top: 50%;
      }

      .my-profile-pic {
        width: 200px;
        height: 200px;
      }

      .edit-icon {
        position: relative;
        bottom: 56px;
      }
      .btn-edit{
        border-radius: 0px;
        background-color: hsla(0, 100%, 50%, 0);
        box-shadow: none;
      }
      .btn-edit:hover{
        background-color: hsla(0, 100%, 50%, 0);
        box-shadow: none;
      }
    </style>
  </head>

  <body>
    <header></header>
    <!-- side nav -->
    <div class="side-section">
      <ul class="side-nav fixed blue lighten-3" style="left:0px">
        <li class="logo" style="background-color:transparent;"><img class="profile-pic circle" src="1.jpg"></li>
        <li class="blue lighten-3"><a href="remider.html" class="waves-effect waves-lighten" style="color:#1976d2;">Set Reminders</a></li>
        <li class="blue lighten-3"><a href="updated_walk.html" class="waves-effect waves-lighten" style="color:#1976d2;">Exercise</a></li>
        <ul class="collapsible collapsible-accordion">
          <li class="blue lighten-3">
            <a class="collapsible-header" class="waves-effect waves-lighten" style="color:#1976d2;">Calculators</a>
            <div class="collapsible-body">
              <ul>
                <li class="blue lighten-3">
                  <a href="BMICal.html" class="waves-effect waves-lighten" style="color:#1976d2;">BMI Calculator</a>
                </li>
                <li class="blue lighten-3">
                  <a href="calorieCalculator.html" class="waves-effect waves-lighten" style="color:#1976d2;">Calorie Calculator</a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
        <li class=" blue lighten-3"><a href="edit_profile.html" class="waves-effect waves-lighten" style="color:#1976d2;">My Profile</a></li>
        <li class="blue lighten-3"><a href="#!" class="waves-effect waves-lighten" style="color:#1976d2;">Help</a></li>
      </ul>
    </div>
    <main>
      <!-- side nav btn -->
      <div class="row blue darken-2 no-margin">
        <a class="waves-effect waves-lighten btn-flat large" id="nav-btn">
          <i class="large material-icons" style="color:white;font-size: xx-large;">list</i>
        </a>
      </div>
      <!-- side nav btn ends -->
      <!-- side nav -->
      <section>
        <div class="row">
          <div class="col s8 offset-s3 no-padding">
            <div class="my-profile-pic card">
              <div class="card-image">
                <img src="img/pro-pic.png">
                <div class="row edit-icon">
                  <div class="col s4 offset-s8">
                    <a class="btn-floating btn-large waves-effect waves-light btn-edit">
                      <i class="large material-icons">mode_edit</i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <div class="input-form">
        <form id="personal-info">
          <div class="row no-margin no-padding">
            <div class="input-field col s12 no-margin">
              <input id="name" type="text" class="validate" name="name">
              <label for="name">Name</label>
            </div>
          </div>
          <div class="row no-margin no-padding">
            <div class="input-field col s4 no-margin">
              <input type="number" name="age" id="age" class="validate">
              <label for="age">Age</label>
            </div>
            <div class="input-field col s4 no-margin">
              <input placeholder="kg" id="weight" type="number" class="validate" name="weight">
              <label for="weight">Weight</label>
            </div>
            <div class="input-field col s4 no-margin">
              <input type="number" placeholder="cms" name="height" class="validate" id="height">
              <label for="height">Height</label>
            </div>
          </div>
          <div class="row no-margin no-padding">
            <div class="input-field col s12">
              <select name="gender" id="gender">
                <option data-icon="img/male.ico" class="left circle" value="Male">Male</option>
                <option data-icon="img/female.ico" class="left circle" value="Female">Female</option>
              </select>
              <label>Gender</label>
            </div>
          </div>
          <div class="row no-margin no-padding">
            <div class="col 4 offset-s4 no-padding">
              <a class="waves-effect waves-light blue accent-2 btn white-text" id="submitbtn" href="#"><i class="material-icons right white-text">send</i>Submit</a>
            </div>
          </div>
        </form>
      </div>
      <!-- scripts -->
      <script type="text/javascript" src="js/jquery.js"></script>
      <script type="text/javascript" src="js/materialize.js"></script>
      <script type="text/javascript" src="js/navbar-transition.js"></script>
      <script type="text/javascript">
        $(document).ready(function() {
          $('select').material_select();
          var personaldetails = localStorage.getItem("user");
          var details = JSON.parse(personaldetails);
          $("#name").val(details.name);
          $("#age").val(details.age);
          $("#weight").val(details.weight);
          $("#height").val(details.height);
          $("#submitbtn").click(function() {
            localStorage.removeItem("user");
            var details = $('#personal-info').serializeArray();
            if (!checkInfo(details)) {
              Materialize.toast('Please fill in all your details', 4000)
              return false;
            }
            var data = getdata(details);
            localStorage.setItem("user", data);
            Materialize.toast('Your details have been modified', 4000)
          });
        });

        function checkInfo(details) {
          for (var i = 0; i < 5; i++) {
            if (details[i].value == 0) return false;
          }
          return true;
        }

        function getdata(details) {
          var data = "{";
          for (var i = 0; i < 5; i++) {
            data = data + '"' + details[i].name + '":"' + details[i].value + '",';
          }
          data = data.replaceAt(data.lastIndexOf(","), "}");
          return data;
        }
        String.prototype.replaceAt = function(index, character) {
          return this.substr(0, index) + character + this.substr(index + character.length);
        }
      </script>
  </body>

</html>
